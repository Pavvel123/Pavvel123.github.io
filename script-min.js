const timetable=[{day:"Poniedziałek",classes:[{time:"07:15 - 08:00"},{time:"08:15 - 09:00"},{time:"09:15 - 10:00",subject:"Metody numeryczne",room:"EA 507",teacher:"dr inż. Piotr Sypek",type:"L",week:"B"},{time:"10:15 - 11:00",subject:"Metody numeryczne",room:"EA 507",teacher:"dr inż. Piotr Sypek",type:"L",week:"B"},{time:"11:15 - 12:00",subject:"Przetwarzanie rozproszone",room:"EA 504",teacher:"mgr Anna Domagalska",type:"P",week:"B"},{time:"12:15 - 13:00",subject:"Przetwarzanie rozproszone",room:"EA 504",teacher:"mgr Anna Domagalska",type:"P",week:"B"},{time:"13:15 - 14:00",subject:"Systemy wbudowane i mikroprocesory",room:"NE AUD1L",teacher:"dr inż. Krzysztof Bikonis",type:"W",week:"AB",EndDate:"2025-04-14"},{time:"14:15 - 15:00",subject:"Systemy wbudowane i mikroprocesory",room:"NE AUD1L",teacher:"dr inż. Maciej Kokot",type:"W",week:"AB",EndDate:"2025-04-14"},{time:"15:15 - 16:00",subject:"Wprowadzenie do cyberbezpieczeństwa",room:"NE AUD1L",teacher:"dr inż. Wojciech Gumiński",type:"W",week:"AB",EndDate:"2025-04-14"},{time:"16:15 - 17:00",subject:"Wprowadzenie do cyberbezpieczeństwa",room:"NE AUD1L",teacher:"dr inż. Wojciech Gumiński",type:"W",week:"AB",EndDate:"2025-04-14"},{time:"16:15 - 17:00",subject:"Metody probabilistyczne w informatyce",room:"NE 205",teacher:"dr inż. Maciej Sac",type:"Ć",week:"AB",StartDate:"2025-05-12",EndDate:"2025-05-19"},{time:"17:15 - 18:00",subject:"Metody probabilistyczne w informatyce",room:"NE 205",teacher:"dr inż. Maciej Sac",type:"Ć",week:"AB",StartDate:"2025-05-12",EndDate:"2025-05-19"},{time:"18:15 - 19:00",subject:"Metody probabilistyczne w informatyce",room:"NE 205",teacher:"dr inż. Maciej Sac",type:"Ć",week:"AB",StartDate:"2025-05-12",EndDate:"2025-05-19"},]},{day:"Wtorek",classes:[{time:"07:15 - 08:00"},{time:"08:15 - 09:00"},{time:"09:15 - 10:00"},{time:"10:15 - 11:00"},{time:"11:15 - 12:00",subject:"Sztuczna inteligencja",room:"NE AUD1P",teacher:"dr hab. Julian Szymański",type:"W",week:"AB"},{time:"12:15 - 13:00",subject:"Sztuczna inteligencja",room:"NE AUD1P",teacher:"dr hab. Julian Szymański",type:"W",week:"AB"},{time:"13:15 - 14:00",subject:"Sztuczna inteligencja",room:"EA 507",teacher:"mgr inż. Szymon Olewniczak",type:"P",week:"AB",StartDate:"2025-04-29"},{time:"14:15 - 15:00",subject:"Sztuczna inteligencja",room:"EA 507",teacher:"mgr inż. Szymon Olewniczak",type:"P",week:"AB",StartDate:"2025-04-29"},{time:"15:15 - 16:00"},{time:"16:15 - 17:00"},{time:"17:15 - 18:00",subject:"System operacyjny MAC OS X i iOS",room:"zajęcia zdalne",teacher:"mgr inż. Tomasz Idzi",type:"W",week:"AB",EndDate:"2025-04-15"},{time:"18:15 - 19:00",subject:"System operacyjny MAC OS X i iOS",room:"zajęcia zdalne",teacher:"mgr inż. Tomasz Idzi",type:"W",week:"AB",EndDate:"2025-04-15"},{time:"19:15 - 20:00",subject:"System operacyjny MAC OS X i iOS",room:"zajęcia zdalne",teacher:"mgr inż. Tomasz Idzi",type:"L",week:"AB",EndDate:"2025-04-15"},{time:"20:15 - 21:00",subject:"System operacyjny MAC OS X i iOS",room:"zajęcia zdalne",teacher:"mgr inż. Tomasz Idzi",type:"L",week:"AB",EndDate:"2025-04-15"},]},{day:"Środa",classes:[{time:"07:15 - 08:00"},{time:"08:15 - 09:00"},{time:"09:15 - 10:00",subject:"Systemy wbudowane i mikroprocesory",room:"EA 438",teacher:"dr inż. Krzysztof Bikonis",type:"L",week:"AB"},{time:"10:15 - 11:00",subject:"Systemy wbudowane i mikroprocesory",room:"EA 438",teacher:"dr inż. Krzysztof Bikonis",type:"L",week:"AB"},{time:"11:15 - 12:00",subject:"Platformy technologiczne",room:"EA 507",teacher:"dr inż. Wojciech Siwicki",type:"L",week:"AB"},{time:"12:15 - 13:00",subject:"Platformy technologiczne",room:"EA 507",teacher:"dr inż. Wojciech Siwicki",type:"L",week:"AB"},{time:"13:15 - 14:00",subject:"Język angielski III",room:"Gmach B 313",teacher:"mgr Ewa Rogala",type:"Ć",week:"AB"},{time:"14:15 - 15:00",subject:"Język angielski III",room:"Gmach B 313",teacher:"mgr Ewa Rogala",type:"Ć",week:"AB"},{time:"15:15 - 16:00",subject:"Metody probabilistyczne w informatyce",room:"NE AUD1L",teacher:"dr hab. Jerzy Konorski",type:"W",week:"AB"},{time:"16:15 - 17:00",subject:"Metody probabilistyczne w informatyce",room:"NE AUD1L",teacher:"dr hab. Jerzy Konorski",type:"W",week:"AB"},{time:"17:15 - 18:00",subject:"Wprowadzenie do cyberbezpieczeństwa",room:"NE 207",teacher:"dr inż. Krzysztof Gierłowski",type:"P",week:"AB",StartDate:"2025-04-30"},{time:"18:15 - 19:00",subject:"Wprowadzenie do cyberbezpieczeństwa",room:"NE 207",teacher:"dr inż. Krzysztof Gierłowski",type:"P",week:"AB",StartDate:"2025-04-30"},]},{day:"Czwartek",classes:[{time:"07:15 - 08:00"},{time:"08:15 - 09:00"},{time:"09:15 - 10:00"},{time:"10:15 - 11:00",subject:"Platformy technologiczne",room:"EA AUD2",teacher:"dr inż. Krzysztof Cwalina",type:"W",week:"AB",EndDate:"2025-04-17"},{time:"11:15 - 12:00",subject:"Platformy technologiczne",room:"EA AUD2",teacher:"dr inż. Krzysztof Cwalina",type:"W",week:"AB",EndDate:"2025-04-17"},{time:"12:15 - 13:00",subject:"Przetwarzanie rozproszone",room:"EA AUD2",teacher:"dr inż. Mariusz Matuszek",type:"W",week:"AB"},{time:"13:15 - 14:00"},{time:"14:15 - 15:00"},{time:"15:15 - 16:00"},{time:"16:15 - 17:00",subject:"Przetwarzanie rozproszone",room:"EA 527",teacher:"mgr inż. Michał Kościowski",type:"L",week:"AB"},{time:"17:15 - 18:00",subject:"Przetwarzanie rozproszone",room:"EA 527",teacher:"mgr inż. Michał Kościowski",type:"L",week:"AB"},]},{day:"Piątek",classes:[{time:"07:15 - 08:00"},{time:"08:15 - 09:00"},{time:"09:15 - 10:00",subject:"Sieci komputerowe",room:"NE AUD1P",teacher:"dr inż. Krzysztof Nowicki",type:"W",week:"AB"},{time:"10:15 - 11:00",subject:"Sieci komputerowe",room:"NE AUD1P",teacher:"dr inż. Krzysztof Nowicki",type:"W",week:"AB"},{time:"11:15 - 12:00",subject:"Metody numeryczne",room:"NE AUD1L",teacher:"dr hab. Grzegorz Fotyga",type:"W",week:"AB"},{time:"12:15 - 13:00",subject:"Sztuczna inteligencja",room:"EA 527",teacher:"mgr inż. Szymon Olewniczak",type:"L",week:"A"},{time:"13:15 - 14:00",subject:"Sztuczna inteligencja",room:"EA 527",teacher:"mgr inż. Szymon Olewniczak",type:"L",week:"A"},{time:"14:15 - 15:00",subject:"Metody numeryczne",room:"EA 507",teacher:"dr inż. Piotr Sypek",type:"P",week:"A"},{time:"15:15 - 16:00",subject:"Metody numeryczne",room:"EA 507",teacher:"dr inż. Piotr Sypek",type:"P",week:"A"},{time:"16:15 - 17:00",subject:"Metody probabilistyczne w informatyce",room:"NE 239",teacher:"dr hab. Jacek Rak",type:"L",week:"A"},{time:"17:15 - 18:00",subject:"Metody probabilistyczne w informatyce",room:"NE 239",teacher:"dr hab. Jacek Rak",type:"L",week:"A"},]}],todayDate=new Date,weekdayNames=["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"],currentDay=weekdayNames[todayDate.getDay()],refDate=new Date("2025-02-24"),diffMs=todayDate-refDate,diffWeeks=Math.floor(diffMs/6048e5),currentWeekLetter=diffWeeks%2==0?"A":"B";function formatTimeRange(e){return e.split(" - ").map(e=>e.startsWith("0")?e.slice(1):e).join(" - ")}function isTimeSlotActive(e){let[t,a]=e.split(" - "),[r,i]=t.split(":").map(Number),[o,n]=a.split(":").map(Number),c=new Date,l=new Date(c.getFullYear(),c.getMonth(),c.getDate(),r,i),$=new Date(l.getTime()-9e5),m=new Date(c.getFullYear(),c.getMonth(),c.getDate(),o,n);return c>=$&&c<m}function styleType(e,t){if(t)return`<span style="color:rgb(210, 210, 210);">[${e}]</span>`;switch(e){case"W":return'<span style="color: white; background-color: blue; padding: 1px;">[W]</span>';case"L":return'<span style="color: white; background-color: purple; padding: 1px;">[L]</span>';case"Ć":return`<span style="color: black; background-color: pink; padding: 1px;">[Ć]</span>`;case"P":return'<span style="color: black; background-color: orange; padding: 1px;">[P]</span>';default:return`<span>[${e}]</span>`}}function buildDesktopTimetable(){let e=document.getElementById("desktopTimetable");e.innerHTML="";let t=document.createElement("tr"),a=document.createElement("th");a.rowSpan=2,t.appendChild(a),timetable.forEach(e=>{let a=document.createElement("th");a.colSpan=2,a.textContent=e.day,t.appendChild(a)}),e.appendChild(t);let r=document.createElement("tr");timetable.forEach(()=>{let e=document.createElement("th");e.textContent="A";let t=document.createElement("th");t.textContent="B",r.appendChild(e),r.appendChild(t)}),e.appendChild(r);let i=new Set;timetable.forEach(e=>{e.classes.forEach(e=>i.add(e.time))});let o=Array.from(i).sort();o.forEach(t=>{let a=document.createElement("tr"),r=document.createElement("td");r.textContent=formatTimeRange(t),a.appendChild(r),timetable.forEach(e=>{let r=e.classes.filter(e=>e.time===t),i=[],o=[],n=[];if(r.forEach(e=>{let t=e.StartDate&&e.StartDate>todayDate.toISOString().split("T")[0]||e.EndDate&&e.EndDate<todayDate.toISOString().split("T")[0],a=`${e.room}<br>${styleType(e.type,t)} <strong>${e.subject}</strong><br>${e.teacher}`;if(e.StartDate||e.EndDate){let r=[];e.StartDate&&r.push(`od ${e.StartDate}`),e.EndDate&&r.push(`do ${e.EndDate}`),a+=`<br><em>${r.join(" | ")}</em>`}t&&(a=`<span style="color:rgb(210, 210, 210);">${a}</span>`),"AB"===e.week?n.push(a):"A"===e.week?i.push(a):"B"===e.week&&o.push(a)}),n.length>0){let c=document.createElement("td");c.colSpan=2,c.innerHTML=n.join("<br><br>"),e.day===currentDay&&isTimeSlotActive(t)&&(c.style.outline="3px solid orange"),a.appendChild(c)}else{let l=document.createElement("td");l.innerHTML=i.join("<br><br>")||"",e.day===currentDay&&"A"===currentWeekLetter&&isTimeSlotActive(t)&&(l.style.outline="3px solid orange");let $=document.createElement("td");$.innerHTML=o.join("<br><br>")||"",e.day===currentDay&&"B"===currentWeekLetter&&isTimeSlotActive(t)&&($.style.outline="3px solid orange"),a.appendChild(l),a.appendChild($)}}),e.appendChild(a)})}function buildMobileTimetable(e,t){let a=document.getElementById("mobileTimetable");a.innerHTML="";let r=timetable.find(t=>t.day===e);if(!r)return;let i=document.createElement("tr"),o=document.createElement("th"),n=document.createElement("th");n.textContent=`${e} (Tydzień ${t})`,i.appendChild(o),i.appendChild(n),a.appendChild(i);let c=new Set;r.classes.forEach(e=>c.add(e.time));let l=Array.from(c).sort();l.forEach(i=>{let o=document.createElement("tr"),n=document.createElement("td");n.textContent=formatTimeRange(i),n.style.minWidth="100px",o.appendChild(n);let c=r.classes.filter(e=>e.time===i&&("AB"===e.week||e.week===t)),l=[];c.forEach(e=>{let t=e.StartDate&&e.StartDate>todayDate.toISOString().split("T")[0]||e.EndDate&&e.EndDate<todayDate.toISOString().split("T")[0],a=`${e.room}<br>${styleType(e.type,t)} <strong>${e.subject}</strong><br>${e.teacher}`;if(e.StartDate||e.EndDate){let r=[];e.StartDate&&r.push(`od ${e.StartDate}`),e.EndDate&&r.push(`do ${e.EndDate}`),a+=`<br><em>${r.join(" | ")}</em>`}t&&(a=`<span style="color:rgb(210, 210, 210);">${a}</span>`),l.push(a)});let $=document.createElement("td");$.innerHTML=l.join("<br><br>"),o.appendChild($),e===currentDay&&t==currentWeekLetter&&isTimeSlotActive(i)&&(o.style.outline="3px solid orange"),a.appendChild(o)})}function updateSelectBackground(e,t){e.value===t?e.style.backgroundColor="lightgreen":e.style.backgroundColor=""}document.getElementById("updateParagraph").innerHTML=`Aktualny tydzień: ${currentWeekLetter}<br>Ostatnia aktualizacja: 21 lutego 2025`,buildDesktopTimetable();const daySelect=document.getElementById("daySelect"),weekSelect=document.getElementById("weekSelect");function updateMobileView(){buildMobileTimetable(daySelect.value,weekSelect.value),updateSelectBackground(daySelect,currentDay),updateSelectBackground(weekSelect,currentWeekLetter)}function setMobileNav(){"Sobota"==currentDay||"Niedziela"==currentDay?(selectActualButton.innerText="Plan na najbliższy poniedziałek",daySelect.value="Poniedziałek","A"==currentWeekLetter?weekSelect.value="B":weekSelect.value="A"):(daySelect.value=currentDay,weekSelect.value=currentWeekLetter)}daySelect.addEventListener("change",updateMobileView),weekSelect.addEventListener("change",updateMobileView);const selectActualButton=document.getElementById("selectActual");setMobileNav(),selectActualButton.addEventListener("click",()=>{setMobileNav(),updateMobileView()}),updateMobileView();